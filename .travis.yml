language: php

php:
  - 5.6
  - 7.0
  - 7.1
  - 7.2

before_install:
  - travis_retry wget "https://github.com/php-coveralls/php-coveralls/releases/download/v2.0.0/php-coveralls.phar" --output-document="${HOME}/bin/php-coveralls" && chmod u+x "${HOME}/bin/php-coveralls"

before_script:
  - composer install

script:
  - composer build

after_script:
- bin/php-coveralls -v

notifications:
  irc:
    channels:
      - "chat.freenode.net#honeybee"
    on_success: always
    on_failure: always
    use_notice: false
    skip_join: false
